---
title: "Firebase Setup"
description: "Configure Firebase services for Zephyra backend."
---

## Firebase Setup

Zephyra relies on Firebase for database (Firestore), authentication, and server-side admin operations.  
Follow these steps to properly configure your Firebase project.

---

## Prerequisites

Make sure you have:

- A Firebase account
- Firebase CLI installed (`npm install -g firebase-tools`)
- Node.js 22+ and pnpm installed
- Access to create projects in Firebase

---

## Configure Firebase Project

<Steps>

### Create a new Firebase project

Go to [Firebase Console](https://console.firebase.google.com/).  

Click **Add project** and follow the wizard.

### Enable Firestore

In your Firebase project, go to **Build → Firestore Database**.  

Click **Create database** and select **Start in test mode** (or production rules if needed).  

Note your **project ID**, it will be used in your `.env` if required.

### Enable Authentication

Go to **Build → Authentication → Sign-in method**.  

Enable **Email/Password** (required) and any other providers you plan to use (Google, etc.).

### Generate Admin SDK Key

Go to **Project Settings → Service accounts**.  

Click **Generate new private key**.  

Save the JSON file in the **root of Zephyra project** as:

```
serviceAccountKey.json
```

### Verify Firebase CLI

Make sure the CLI can access your project:

```bash
firebase login
firebase projects:list
```

</Steps>

---

## Initialize Firebase in Zephyra

Zephyra automatically loads the Admin SDK using the path from `.env`:

```ts
// src/config/firebase.ts
import admin from "firebase-admin"
import path from "path"

const serviceAccountPath = process.env.FIREBASE_ADMIN_JSON
  ? path.resolve(process.env.FIREBASE_ADMIN_JSON)
  : null

if (!admin.apps.length && serviceAccountPath) {
  admin.initializeApp({
    credential: admin.credential.cert(serviceAccountPath),
  })
}

export const db = admin.firestore()
export const auth = admin.auth()
```

This allows Zephyra to:

* Access Firestore database
* Verify authentication tokens
* Perform admin operations

---

## Next Steps

<Columns cols={2}>
  <Card
    title="Environment Setup"
    icon="gear"
    href="/setup/environment"
  >
    Ensure your `.env` file points to the correct Firebase Admin SDK JSON.
  </Card>

  <Card
    title="Authentication"
    icon="lock"
    href="/authentication"
  >
    Learn how to handle user login, token verification, and middleware protection.
  </Card>
</Columns>
